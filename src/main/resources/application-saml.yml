# SAML POC Application Configuration

spring:
  application:
    name: SAML-POC-Application

server:
  port: 8443
  ssl:
    enabled: true
    key-store: classpath:saml-keystore.jks
    key-store-password: changeit
    key-alias: saml-signing
    key-store-type: JKS

# SAML Configuration
saml:
  # Service Provider (SP) Configuration
  sp:
    entity-id: https://localhost:8443/saml/metadata
    acs-url: https://localhost:8443/login/saml2/sso/saml-poc
    slo-url: https://localhost:8443/logout/saml2/slo

  # Identity Provider (IdP) Configuration
  idp:
    entity-id: https://idp.example.com
    metadata-url: https://idp.example.com/metadata
    # For testing with local SimpleSAMLphp or other IdP
    # metadata-url: http://localhost:8080/simplesaml/saml2/idp/metadata.php

  # Keystore Configuration
  keystore:
    location: classpath:saml-keystore.jks
    password: changeit
    alias: saml-signing
    key-password: changeit

  # Attribute Mapping (map SAML attributes to application attributes)
  attribute-mapping:
    email:
      - email
      - http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress
      - urn:oid:0.9.2342.19200300.100.1.3
    firstName:
      - firstName
      - http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname
      - urn:oid:2.5.4.42
    lastName:
      - lastName
      - http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname
      - urn:oid:2.5.4.4
    displayName:
      - displayName
      - http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name
      - urn:oid:2.16.840.1.113730.3.1.241
    department:
      - department
      - http://schemas.xmlsoap.org/ws/2005/05/identity/claims/department
      - urn:oid:2.5.4.11
    role:
      - role
      - http://schemas.xmlsoap.org/ws/2005/05/identity/claims/role
      - http://schemas.microsoft.com/ws/2008/06/identity/claims/role

# Logging Configuration
logging:
  level:
    root: INFO
    com.company.saml.poc: DEBUG
    org.springframework.security: DEBUG
    org.springframework.security.saml2: DEBUG
    org.opensaml: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: logs/saml-poc.log

# Security Configuration
security:
  session:
    timeout: 3600 # 1 hour in seconds
  saml:
    assertion:
      replay-cache-ttl: 300 # 5 minutes in seconds
      max-authentication-age: 300 # 5 minutes in seconds
